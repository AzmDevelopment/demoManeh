{
  "stepId": "saso_test_step2_brands",
  "name": "Brand Management",
  "actor": "customer",
  "description": "Select existing brands or add new ones for your products",

  "fields": [
    {
      "key": "selectedBrand",
      "type": "select",
      "templateOptions": {
        "label": "Select Existing Brand",
        "placeholder": "Choose a brand to add...",
        "required": false,
        "options": []
      },
      "hooks": {
        "onInit": "loadBrands",
        "onChange": "onBrandSelected"
      }
    },

    {
      "key": "brandTable",
      "type": "table",
      "templateOptions": {
        "label": "Selected Brands",
        "columns": [ "nameEn", "nameAr", "source" ],
        "columnHeaders": {
          "nameEn": "Brand (English)",
          "nameAr": "Brand (Arabic)",
          "source": "Source"
        },
        "emptyMessage": "No brands added yet. Select an existing brand or add a new one below.",
        "badgeColumns": {
          "source": {
            "Existing": "bg-info",
            "New": "bg-success"
          }
        },
        "allowDelete": true
      }
    },
    
    {
      "key": "newBrand",
      "type": "add-to-table",
      "templateOptions": {
        "addText": "âž• Add New Brand",
        "saveText": "ðŸ’¾ Save Brand",
        "cancelText": "âœ• Cancel",
        "targetTableKey": "brandTable",
        "fieldMapping": {
          "brandNameEn": "nameEn",
          "brandNameAr": "nameAr"
        },
        "defaults": {
          "source": "New"
        }
      },
      "fieldGroup": [
        {
          "key": "brandNameEn",
          "type": "input",
          "templateOptions": {
            "label": "Brand Name (English)",
            "placeholder": "Enter brand name in English",
            "required": true,
            "maxLength": 100
          }
        },
        {
          "key": "brandNameAr",
          "type": "input",
          "templateOptions": {
            "label": "Brand Name (Arabic)",
            "placeholder": "Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ© Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",
            "required": true,
            "maxLength": 100
          }
        }
      ]
    }
  ],

  "stepConfig": {
    "canSendBack": true,
    "nextStep": "saso_test_step3_products",
    "estimatedDurationHours": 24,
    "validation": {
      "type": "brandTable",
      "minRequired": 1,
      "message": "Please select at least one brand or add a new one before proceeding"
    }
  }
}
